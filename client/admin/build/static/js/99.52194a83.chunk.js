(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1289:function(e,t,a){"use strict";a.r(t);var n=a(13),i=a.n(n),l=a(34),s=a(17),r=a(18),o=a(21),c=a(19),u=a(20),m=a(0),p=a.n(m),f=a(622),b=a(620),d=a(14),h=a(627),v=a(621),g=a(623),E=a(45),w=a(637),y=a.n(w),j=(a(633),a(25)),S=a.n(j),O=a(35),C=(f.a.TextArea,b.a.Item),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={mobile:"",email:"",logo:"",copyrighrs:"",previewVisible:!1,previewImage:"",fileList:[],inputVisible:!1,fileName:"",pic:"noPic.jpg",removedFile:[],disable:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n=a.state,i=n.fileList,l=n.fileName;if(!e){a.setState({disable:!0});var s=a.props.match.params.id;""!==l&&(t.image=l),i.length?S.a.post("/api/v2/team/update/".concat(s),t).then(function(e){var t=e.data.message,n=e.statusText;200===e.status?(O.NotificationManager.success(t,"SUCCESS",2e3),setTimeout(function(){a.props.history.push("/admin/teams/view"),a.setState({disable:!1})},3e3)):(O.NotificationManager.error(t||n,"ERROR",2e3),setTimeout(function(){a.setState({disable:!1})},2e3))}).catch(function(e){a.setState({loading:!1},function(){var t=e.response,n=t.data.message,i=t.statusText;O.NotificationManager.error(n||i,"ERROR",2e3),setTimeout(function(){a.setState({disable:!1})},2e3)})}):(O.NotificationManager.error("Please Choose an image !","ERROR",2e3),setTimeout(function(){a.setState({disable:!1})},2e3))}})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.removeFile=function(){var e=Object(l.a)(i.a.mark(function e(t){var n,l,s,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.removedFile,(l=t.url)?(s=l.split("/"),r=s[s.length-1],n.push(r)):(o=t.response.fullName,n.push(o)),a.setState({removedFile:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.file,n=e.fileList;if(a.setState({fileList:n}),"done"===t.status){var i=t.response.fullName;a.setState({fileName:i})}},a.componentDidMount=function(){var e=a.props.match.params.id;S()("/api/v2/team/get/".concat(e)).then(function(){var e=Object(l.a)(i.a.mark(function e(t){var n,l,s,r,o,c,u,m,p,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,l=n[0],s=l.name,r=l.image,o=l.job,c=l.instagram,u=l.facebook,m=l.twitter,p=l.youtube,f=[],e.next=5,S.a.get("/api/v2/files/getFile/".concat(r)).then(function(e){return f.push({uid:y()(),name:"image.png",status:"done",url:"/api/v2/files/getFile/".concat(r)})}).catch(function(e){});case 5:a.setState({name:s,fileList:f,job:o,instagram:c,facebook:u,twitter:m,youtube:p});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t=e.response,n=t.data.message,i=t.statusText;O.NotificationManager.error(n||i,"ERROR",2e3),setTimeout(function(){a.props.history.push("/admin/teams/view")},2e3)})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.fileList,n=t.previewVisible,i=t.pic,l=t.name,s=t.job,r=t.instagram,o=t.facebook,c=t.twitter,u=t.youtube,m=t.disable,w={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},y=p.a.createElement("div",null,p.a.createElement(d.a,{type:"plus"}),p.a.createElement("div",{className:"ant-upload-text"},"Upload"));return p.a.createElement(h.a,{className:"gx-card",job:"Teams Details"},p.a.createElement(b.a,{onSubmit:this.handleSubmit},p.a.createElement(C,Object.assign({},w,{label:"image"}),p.a.createElement(v.a,{action:"/api/v2/files/uploadFile",listType:"picture-card",fileList:a,onPreview:this.handlePreview,onChange:this.handleChange,withCredentials:!0,onRemove:this.removeFile},a.length>=1?null:y),p.a.createElement(g.a,{visible:n,footer:null,onCancel:this.handleCancel},p.a.createElement("img",{alt:"example",style:{width:"100%"},src:"/api/v2/files/getFile/".concat(i)}))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"name")}),e("name",{initialValue:l})(p.a.createElement(f.a,null))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"job")}),e("job",{initialValue:s})(p.a.createElement(f.a,null))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"facebook")}),e("facebook",{initialValue:o})(p.a.createElement(f.a,null))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"twitter")}),e("twitter",{initialValue:c})(p.a.createElement(f.a,null))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"youtube")}),e("youtube",{initialValue:u})(p.a.createElement(f.a,null))),p.a.createElement(C,Object.assign({},w,{label:p.a.createElement("span",null,"instagram")}),e("instagram",{initialValue:r})(p.a.createElement(f.a,null))),p.a.createElement(C,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},m?p.a.createElement(E.a,{type:"primary",disabled:!0,htmlType:"submit"},"Save"):p.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Save"))),p.a.createElement(O.NotificationContainer,null))}}]),t}(m.Component),N=b.a.create()(x);t.default=N}}]);
//# sourceMappingURL=99.52194a83.chunk.js.map