(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1027:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t.n(n),s=t(34),l=t(17),i=t(18),c=t(21),o=t(19),m=t(20),u=t(0),p=t.n(u),d=t(25),f=t.n(d),h=t(620),b=t(607),g=t(14),v=t(627),E=t(610),w=t(99),y=t(54),x=t(622),O=t(621),j=t(623),C=t(45),S=t(35),N=(t(1028),h.a.Item),P=b.a.Option,F=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),m=0;m<n;m++)i[m]=arguments[m];return(t=Object(c.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(i)))).state={confirmDirty:!1,autoCompleteResult:[],loading:!1,fileList:[],removedFile:[],fileName:"",previewImage:"",previewVisible:!1,disable:!1},t.toggleLoading=function(){t.setState(function(){return{loading:!t.state.loading}})},t.handleSubmit=function(){var e=Object(s.a)(r.a.mark(function e(a){var n,l,i,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=t.state,l=n.fileList,i=n.removedFile,c=n.fileName,t.props.form.validateFieldsAndScroll(function(){var e=Object(s.a)(r.a.mark(function e(a,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=11;break}if(t.setState({disable:!0}),!l.length){e.next=9;break}return e.next=5,t.toggleLoading();case 5:n.pic=c,f.a.post("/api/v2/users",n).then(function(){var e=Object(s.a)(r.a.mark(function e(a){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toggleLoading();case 2:n=a.data.message,S.NotificationManager.success(n,"SUCCESS",2e3),setTimeout(function(){t.props.history.push("/admin/users/view"),t.setState({disable:!1})},3e3),i.length&&i.map(function(){var e=Object(s.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/v2/files/removeFile",{pic:a});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()).catch(function(){var e=Object(s.a)(r.a.mark(function e(a){var n,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toggleLoading();case 2:n=a.response,s=n.data.message,l=n.statusText,S.NotificationManager.error(s||l,"ERROR",2e3),setTimeout(function(){t.setState({disable:!1})},2e3);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),e.next=11;break;case 9:S.NotificationManager.error("Please Choose an image !","ERROR",2e3),setTimeout(function(){t.setState({disable:!1})},2e3);case 11:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},t.removeFile=function(e){var a=t.state.removedFile,n=e.response.fullName;a.push(n),t.setState({removedFile:a})},t.handleWebsiteChange=function(e){var a;a=e?[".com",".org",".net"].map(function(a){return"".concat(e).concat(a)}):[],t.setState({autoCompleteResult:a})},t.handleCancel=function(){return t.setState({previewVisible:!1})},t.handlePreview=function(e){t.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},t.handleChange=function(e){var a=e.file,n=e.fileList;if(t.setState({fileList:n}),"done"===a.status){var r=a.response.fullName;t.setState({fileName:r})}},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.previewVisible,n=a.previewImage,r=a.fileList,s=a.disable,l={labelCol:{xs:{span:16},sm:{span:10}},wrapperCol:{xs:{span:16},sm:{span:12}}},i=p.a.createElement("div",null,p.a.createElement(g.a,{type:"plus"}),p.a.createElement("div",{className:"ant-upload-text"},"Upload"));return p.a.createElement(v.a,{className:"gx-card",title:"Add User"},p.a.createElement(E.a,{spinning:this.state.loading},p.a.createElement(h.a,{onSubmit:this.handleSubmit,className:"add-user"},p.a.createElement(w.a,{justify:"center"},p.a.createElement(y.a,{span:18},p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"First Name")}),e("first",{rules:[{required:!0,message:"Please enter first name!",whitespace:!0},{max:50,message:"the name must be less than 50",whitespace:!0}]})(p.a.createElement(x.a,null))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Last Name")}),e("last",{rules:[{required:!0,message:"Please enter last name!",whitespace:!0},{max:50,message:"the lastname must be less than 50",whitespace:!0}]})(p.a.createElement(x.a,null))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Username")}),e("username",{rules:[{required:!0,message:"Please enter username!",whitespace:!0},{max:50,message:"the username must be less than 50",whitespace:!0}]})(p.a.createElement(x.a,null))),p.a.createElement(N,Object.assign({},l,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(p.a.createElement(x.a,{id:"email1",type:"email"}))),p.a.createElement(N,Object.assign({},l,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please enter the password!"},{validator:this.validateToNextPassword},{pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{4,}$",message:"Passowrd must have at least one Numeric and one Character and length must be more than 4"}]})(p.a.createElement(x.a,{type:"password"}))),p.a.createElement(N,Object.assign({},l,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0,message:"Please confirm password!"},{validator:this.compareToFirstPassword}]})(p.a.createElement(x.a,{type:"password",onBlur:this.handleConfirmBlur}))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Role")}),e("rule",{rules:[{required:!0,message:"Please choose role type!",whitespace:!0}]})(p.a.createElement(b.a,{defaultValue:"admin"},p.a.createElement(P,{value:"admin"},"Admin"),p.a.createElement(P,{value:"Data Entery"},"Data Entery")))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Mobile Number")}),e("mobile")(p.a.createElement(x.a,null))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Job Title")}),e("jobtitle")(p.a.createElement(x.a,null))),p.a.createElement(N,Object.assign({},l,{label:p.a.createElement("span",null,"Address")}),e("address")(p.a.createElement(x.a,null))),p.a.createElement(N,null)),p.a.createElement(y.a,{span:6,className:"addUser-image"}," ",p.a.createElement(N,Object.assign({},l,{label:""}),p.a.createElement(O.a,{action:"/api/v2/files/uploadFile",listType:"picture-card",fileList:r,onPreview:this.handlePreview,onChange:this.handleChange,withCredentials:!0,onRemove:this.removeFile},1===r.length?null:i),p.a.createElement(j.a,{visible:t,footer:null,onCancel:this.handleCancel},p.a.createElement("img",{alt:"example",style:{width:"100%"},src:n}))))),p.a.createElement(N,{wrapperCol:{xs:{span:12,offset:4},sm:{span:12,offset:2}}},s?p.a.createElement(C.a,{disabled:!0,type:"primary",htmlType:"submit"},"Submit"):p.a.createElement(C.a,{type:"primary",htmlType:"submit"},"Submit")))),p.a.createElement(S.NotificationContainer,null))}}]),a}(u.Component),T=h.a.create()(F);a.default=T},1028:function(e,a,t){}}]);
//# sourceMappingURL=53.204e1435.chunk.js.map