(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1290:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),o=n(34),i=n(647),l=n(17),s=n(18),c=n(21),u=n(19),f=n(20),p=n(187),m=n(0),h=n.n(m),b=n(620),g=n(607),y=n(14),d=n(627),v=n(610),C=n(69),w=n(622),O=n(621),E=n(623),S=n(661),j=n(45),P=n(35),k=n(665),x=(n(633),n(25)),N=n.n(x),T=n(770),I=n.n(T),_=(n(671),b.a.Item),V=g.a.Option,R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,s=new Array(a),f=0;f<a;f++)s[f]=arguments[f];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={confirmDirty:!1,autoCompleteResult:[],editorState:k.EditorState.createEmpty(),previewVisible:!1,previewImage:"",fileList:[],categories:[],tags:[],inputVisible:!1,inputValue:"",fileName:"",loading:!1,color:"#000",parents:[],removedFile:[]},n.toggleLoading=function(){n.setState({loading:!n.state.loading})},n.changeColour=function(e){var t=e.color;n.setState({color:t})},n.handleClose=function(e){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t})},n.showInput=function(){n.setState({inputVisible:!0},function(){return n.input.focus()})},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleInputConfirm=function(){var e=Object(p.a)(Object(p.a)(n)).state,t=e.inputValue,a=e.tags;t&&-1===a.indexOf(t)&&(a=[].concat(Object(i.a)(a),[t])),n.setState({tags:a,inputVisible:!1,inputValue:""})},n.handleCancel=function(){return n.setState({previewVisible:!1})},n.handleSubmit=function(){var e=Object(o.a)(r.a.mark(function e(t){var a,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,i=a.fileList,l=a.removedFile,n.props.form.validateFieldsAndScroll(function(e,t){if(!e){var a=n.state,s=a.fileName,c=a.tags,u=a.color;i.length?n.setState({loading:!0},function(){t.pic=s,t.tags=c,t.colour=u,N.a.post("/api/v2/categories",t).then(function(e){var t=e.data.message;n.setState({loading:!1},function(){P.NotificationManager.success(t,"SUCCESS",2e3),setTimeout(function(){n.props.history.push("/admin/categories/Main")},3e3)}),l.length&&l.map(function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/v2/files/removeFile",{pic:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}).catch(function(e){n.setState({loading:!1},function(){var t=e.response,n=t.data.message,a=t.statusText;P.NotificationManager.error(n||a,"ERROR",2e3)})})}):P.NotificationManager.error("Please Choose an image !","ERROR",2e3)}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.file,a=e.fileList;if(n.setState({fileList:a}),"done"===t.status){var r=t.response.fullName;n.setState({fileName:r})}},n.handlePreview=function(e){n.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},n.removeFile=function(e){var t=n.state.removedFile,a=e.response.fullName;t.push(a),n.setState({removedFile:t})},n.saveInputRef=function(e){return n.input=e},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},function(){N.a.get("/api/v2/categories").then(function(t){var n=t.data;e.setState({categories:n,loading:!1})})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},a=this.state,r=a.previewVisible,o=a.previewImage,i=a.fileList,l=a.categories,s=this.state,c=s.tags,u=s.inputVisible,f=s.inputValue,p=s.color,m=h.a.createElement("div",null,h.a.createElement(y.a,{type:"plus"}),h.a.createElement("div",{className:"ant-upload-text"},"Upload"));return h.a.createElement(d.a,{className:"gx-card",title:"Add Category"},h.a.createElement(v.a,{spinning:this.state.loading},h.a.createElement(b.a,{onSubmit:this.handleSubmit},h.a.createElement(_,Object.assign({},n,{label:h.a.createElement("span",null,"Name\xa0",h.a.createElement(C.a,{title:"Nama of Category, such as Sport"},h.a.createElement(y.a,{type:"question-circle-o"})))}),t("name",{rules:[{required:!0,message:"Please Enter Name of Category",whitespace:!0},{max:20,message:"Max Letters for name is 20",whitespace:!0}]})(h.a.createElement(w.a,{placeholder:"Name Of Category"}))),h.a.createElement(_,Object.assign({},n,{label:h.a.createElement("span",null,"parent category")}),t("parent",{rules:[{required:!0,message:"Please Choose Category Parent!",whitespace:!0}]})(h.a.createElement(g.a,{placeholder:"Select Parent Of Category"},h.a.createElement(V,{value:"0",style:{color:"red"}},"Main Category"),l.length&&l.map(function(e){return 0===e.parent?h.a.createElement(V,{value:"".concat(e.id)},e.name):null})))),h.a.createElement(_,Object.assign({},n,{label:"Seo Name"}),t("seo",{rules:[{required:!0,message:"Please Enter Seo Name",whitespace:!0},{max:20,message:"Max Letters for Seo is 20",whitespace:!0}]})(h.a.createElement(w.a,{placeholder:"Name Of Category"}))),h.a.createElement(_,Object.assign({},n,{label:"Choose Colour"}),t("colour",{})(h.a.createElement(I.a,{color:p,onChange:this.changeColour},h.a.createElement(w.a,{className:"colour-picker",style:{cursor:"pointer !important",backgroundColor:p,width:"50px"}})))),h.a.createElement(_,Object.assign({},n,{label:"Brief Description"}),t("description",{rules:[{required:!0,message:"Please Enter Description",whitespace:!0},{max:260,message:"Max Letters for Description is 260",whitespace:!0}]})(h.a.createElement(w.a.TextArea,{placeholder:"Enter a brief dexcription for this category",autosize:{minRows:2,maxRows:6}}))),h.a.createElement(_,Object.assign({},n,{label:"Photo Of Category"}),h.a.createElement(O.a,{action:"/api/v2/files/uploadFile",listType:"picture-card",fileList:i,onPreview:this.handlePreview,onChange:this.handleChange,withCredentials:!0,onRemove:this.removeFile},i.length>=1?null:m),h.a.createElement(E.a,{visible:r,footer:null,onCancel:this.handleCancel},h.a.createElement("img",{alt:"example",style:{width:"100%"},src:o}))),h.a.createElement(_,Object.assign({},n,{label:"Meta tags"}),h.a.createElement("div",null,c.map(function(t,n){var a=t.length>20,r=h.a.createElement(S.a,{key:t,closable:!0,afterClose:function(){return e.handleClose(t)}},a?"".concat(t.slice(0,20),"..."):t);return a?h.a.createElement(C.a,{title:t,key:t},r):r}),u&&h.a.createElement(w.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:f,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!u&&h.a.createElement(S.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},h.a.createElement(y.a,{type:"plus"})," New Tag"))),h.a.createElement(_,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},h.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Add Category")))),h.a.createElement(P.NotificationContainer,null))}}]),t}(m.Component),F=b.a.create()(R);t.default=F},647:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},661:function(e,t,n){"use strict";var a=n(0),r=n(38),o=n(3),i=n.n(o),l=n(37),s=n(30),c=n(14),u=n(10);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=b(this,g(t).apply(this,arguments))).handleClick=function(){var t=e.props,n=t.checked,a=t.onChange;a&&a(!n)},e.renderCheckableTag=function(t){var n,r=t.getPrefixCls,o=e.props,l=o.prefixCls,s=o.className,c=o.checked,u=d(o,["prefixCls","className","checked"]),f=r("tag",l),h=i()(f,(m(n={},"".concat(f,"-checkable"),!0),m(n,"".concat(f,"-checkable-checked"),c),n),s);return delete u.onChange,a.createElement("div",p({},u,{className:h,onClick:e.handleClick}))},e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){return a.createElement(u.a,null,this.renderCheckableTag)}}])&&h(n.prototype,r),o&&h(n,o),t}(),C=n(188);function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},N=function(e){e.show;var t=x(e,["show"]),n=Object(l.default)(t,["onClose","afterClose","color","visible","closable"]);return a.createElement("div",n)},T=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,P(t).apply(this,arguments))).state={visible:!0},e.handleIconClick=function(t){e.setVisible(!1,t)},e.animationEnd=function(t,n){if(!n){var a=e.props.afterClose;a&&a()}},e.renderTag=function(t){var n=t.getPrefixCls,o=e.props,i=o.prefixCls,l=o.children,s=x(o,["prefixCls","children"]),c=e.state.visible,u=n("tag",i);return a.createElement(C.a,null,a.createElement(r.a,{component:"",showProp:"show",transitionName:"".concat(u,"-zoom"),onEnd:e.animationEnd},a.createElement(N,E({show:c},s,{className:e.getTagClassName(t),style:e.getTagStyle()}),l,e.renderCloseIcon())))},e}var n,o,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,a["Component"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(o=[{key:"setVisible",value:function(e,t){var n=this.props.onClose;n&&n(t),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(e){return!!e&&/^(pink|red|yellow|orange|cyan|green|blue|purple|geekblue|magenta|volcano|gold|lime)(-inverse)?$/.test(e)}},{key:"getTagStyle",value:function(){var e=this.props,t=e.color,n=e.style,a=this.isPresetColor(t);return E({backgroundColor:t&&!a?t:void 0},n)}},{key:"getTagClassName",value:function(e){var t,n=e.getPrefixCls,a=this.props,r=a.prefixCls,o=a.className,l=a.color,s=this.state.visible,c=this.isPresetColor(l),u=n("tag",r);return i()(u,(O(t={},"".concat(u,"-").concat(l),c),O(t,"".concat(u,"-has-color"),l&&!c),O(t,"".concat(u,"-hidden"),!s),t),o)}},{key:"renderCloseIcon",value:function(){return this.props.closable?a.createElement(c.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return a.createElement(u.a,null,this.renderTag)}}])&&S(n.prototype,o),l&&S(n,l),t}();T.CheckableTag=v,T.defaultProps={closable:!1},Object(s.polyfill)(T);t.a=T}}]);
//# sourceMappingURL=38.5e1ceb09.chunk.js.map