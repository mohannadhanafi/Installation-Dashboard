(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1280:function(e,t,a){"use strict";a.r(t);var n=a(13),i=a.n(n),r=a(34),l=a(17),s=a(18),o=a(21),c=a(19),p=a(20),m=a(0),u=a.n(m),f=a(620),h=a(14),d=a(627),v=a(621),g=a(623),b=a(622),w=a(45),E=(a(633),a(25)),C=a.n(E),N=a(35),S=f.a.Item,y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),p=0;p<n;p++)s[p]=arguments[p];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={footer_description:"",mobile:"",email:"",logo:"",copyrighrs:"",previewVisible:!1,previewImage:"",fileList:[],inputVisible:!1,fileName:"",pic:"noPic.jpg",removedFile:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n=a.state,i=n.fileList,r=n.fileName;e||(""!==r&&(t.image=r),i.length?C.a.post("/api/v2/partners",t).then(function(e){var t=e.data.message,n=e.statusText;200===e.status?(N.NotificationManager.success(t,"SUCCESS",2e3),setTimeout(function(){a.props.history.push("/admin/partners/view")},3e3)):N.NotificationManager.error(t||n,"ERROR",2e3)}).catch(function(e){a.setState({loading:!1},function(){var t=e.response,a=t.data.message,n=t.statusText;N.NotificationManager.error(a||n,"ERROR",2e3)})}):N.NotificationManager.error("Please Choose an image !","ERROR",2e3))})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.removeFile=function(){var e=Object(r.a)(i.a.mark(function e(t){var n,r,l,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.removedFile,(r=t.url)?(l=r.split("/"),s=l[l.length-1],n.push(s)):(o=t.response.fullName,n.push(o)),a.setState({removedFile:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.file,n=e.fileList;if(a.setState({fileList:n}),"done"===t.status){var i=t.response.fullName;a.setState({fileName:i})}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.fileList,n=t.previewVisible,i=t.pic,r={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},l=u.a.createElement("div",null,u.a.createElement(h.a,{type:"plus"}),u.a.createElement("div",{className:"ant-upload-text"},"Upload"));return u.a.createElement(d.a,{className:"gx-card",title:"Add Partner"},u.a.createElement(f.a,{onSubmit:this.handleSubmit},u.a.createElement(S,Object.assign({},r,{label:"Image"}),u.a.createElement(v.a,{action:"/api/v2/files/uploadFile",listType:"picture-card",fileList:a,onPreview:this.handlePreview,onChange:this.handleChange,withCredentials:!0,onRemove:this.removeFile},a.length>=1?null:l),u.a.createElement(g.a,{visible:n,footer:null,onCancel:this.handleCancel},u.a.createElement("img",{alt:"example",style:{width:"100%"},src:"/api/v2/files/getFile/".concat(i)}))),u.a.createElement(S,Object.assign({},r,{label:u.a.createElement("span",null,"Name")}),e("name",{rules:[{required:!0,message:"Please enter the name !"}]})(u.a.createElement(b.a,null))),u.a.createElement(S,Object.assign({},r,{label:u.a.createElement("span",null,"Link")}),e("link",{rules:[{max:100,message:"Max is 100 Letter !"}]})(u.a.createElement(b.a,null))),u.a.createElement(S,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},u.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Add Partner"))),u.a.createElement(N.NotificationContainer,null))}}]),t}(m.Component),O=f.a.create()(y);t.default=O},633:function(e,t,a){}}]);
//# sourceMappingURL=48.013693b9.chunk.js.map