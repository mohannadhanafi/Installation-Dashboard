(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1297:function(e,t,a){"use strict";a.r(t);var n=a(13),s=a.n(n),i=a(34),r=a(23),c=a(17),l=a(18),o=a(21),u=a(19),p=a(20),m=a(0),d=a.n(m),f=a(620),b=a(627),h=a(622),v=a(45),E=a(25),S=a.n(E),w=a(35),g=f.a.Item,y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),p=0;p<n;p++)l[p]=arguments[p];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",count:"",disable:!1},a.componentDidMount=function(){var e=a.props.match.params.id;S()("/api/v2/statistics/".concat(e)).then(function(e){var t=e.data;a.setState(Object(r.a)({},t))})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){a.setState({disable:!0});var n=a.props.match.params.id;S.a.post("/api/v2/statistics/update/".concat(n),t).then(function(e){var t=e.data.message;w.NotificationManager.success(t,"SUCCESS",2e3),setTimeout(function(){a.props.history.push("/admin/statistics/view"),a.setState({disable:!1})},3e3)}).catch(function(){var e=Object(i.a)(s.a.mark(function e(t){var n,i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.response,i=n.data.message,r=n.statusText,w.NotificationManager.error(i||r,"ERROR",2e3),setTimeout(function(){a.setState({disable:!1})},2e3);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.title,n=t.count,s=t.disable,i={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return d.a.createElement(b.a,{className:"gx-card",title:"Statistic Details"},d.a.createElement(f.a,{onSubmit:this.handleSubmit},d.a.createElement(g,Object.assign({},i,{label:d.a.createElement("span",null,"Title")}),e("title",{initialValue:a,rules:[{max:20,message:"Max is 20 letter"},{required:!0,message:"Please enter the title"}]})(d.a.createElement(h.a,null))),d.a.createElement(g,Object.assign({},i,{label:d.a.createElement("span",null,"Count")}),e("count",{initialValue:n,rules:[{required:!0,message:"Please input the subtitle!",whitespace:!0}]})(d.a.createElement(h.a,{type:"number"}))),d.a.createElement(g,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},s?d.a.createElement(v.a,{type:"primary",disabled:!0,htmlType:"submit"},"Save"):d.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Save"))),d.a.createElement(w.NotificationContainer,null))}}]),t}(m.Component),O=f.a.create()(y);t.default=O}}]);
//# sourceMappingURL=97.9d16aa1b.chunk.js.map