(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1252:function(e,t,n){"use strict";n.r(t);var i=n(647),a=n(13),r=n.n(a),o=n(34),s=n(17),c=n(18),u=n(21),l=n(19),p=n(20),f=n(187),d=n(0),m=n.n(d),h=n(620),g=n(607),v=n(622),b=n(14),y=n(627),w=n(69),C=n(621),E=n(623),O=n(45),S=n(22),j=n(35),x=n(665),k=n(637),D=n.n(k),_=n(642),R=(n(633),n(25)),M=n.n(R),F=h.a.Item,P=(g.a.Option,v.a.TextArea),N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),p=0;p<a;p++)c[p]=arguments[p];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={confirmDirty:!1,autoCompleteResult:[],editorState:x.EditorState.createEmpty(),fileList:[],previewVisible:!1,previewImage:"",values:"",categories:[],removedFile:[],checked:!0,content:"",headingLength:"",tags:[],inputVisible:!1,inputValue:"",breakingNews:!0,disable:!1},n.componentDidMount=function(){var e=n.props.match.params.id;M()("/api/v2/blogs/".concat(e)).then(function(){var e=Object(o.a)(r.a.mark(function e(t){var i,a,s,c,u,l,p,f,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.data,a=i[0],s=a.title,c=a.seo,u=a.header_media,l=a.description,p=a.post_intro,f=[],d=u.map(function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/v2/files/getFile/".concat(t)).then(function(e){return f.push({uid:D()(),name:"image.png",status:"done",url:"/api/v2/files/getFile/".concat(t)})}).catch(function(e){});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(d).then(function(){n.setState({fileList:f,title:s,seo:c,content:l,post_intro:p})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var t=e.response,i=t.data.message,a=t.statusText;j.NotificationManager.error(i||a,"ERROR",2e3),setTimeout(function(){n.props.history.push("/admin/blogs/viewblogs/all")},2e3)})},n.handleChange=function(e){var t=e.file,i=e.fileList;if(n.setState({fileList:i}),"done"===t.status){var a=t.response.fullName;n.setState({fullName:a})}},n.toggleDisable=function(){n.setState({disabled:!n.state.disabled})},n.handleSubmit=function(e){e.preventDefault();var t=n.state,i=t.fileList,a=t.removedFile,s=[];if(i.map(function(e){var t=e.url;if(!t){var n=e.response.fullName;return s.push(n),s}var i=t.split("/"),a=i[i.length-1];s.push(a)}),0!==s.length){var c=n.state.content;c.trim()&&n.props.form.validateFieldsAndScroll(function(e,t){if(!e){n.setState({disable:!0});var i=n.props.match.params.id;t.header_media=s,t.description=c,M.a.post("/api/v2/blogs/update/".concat(i),{data:t}).then(function(e){var t=e.data.message,i=e.statusText;200===e.status?(n.setState({loading:!1},function(){j.NotificationManager.success(t,"SUCCESS",2e3),setTimeout(function(){n.props.history.push("/admin/blogs/viewblogs/all"),n.setState({disable:!1})},3e3)}),a.length&&a.map(function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.post("/api/v2/files/removeFile",{pic:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())):n.setState({loading:!1},function(){j.NotificationManager.error(t||i,"ERROR",2e3),setTimeout(function(){n.setState({disable:!1})},2e3)})}).catch(function(){var e=Object(o.a)(r.a.mark(function e(t){var i,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.response,a=i.data.message,o=i.statusText,j.NotificationManager.error(a||o,"ERROR",2e3),setTimeout(function(){n.setState({disable:!1})},2e3);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})}else j.NotificationManager.error("Please Choose image or video !","ERROR",2e3),setTimeout(function(){n.setState({disable:!1})},2e3)},n.removeFile=function(){var e=Object(o.a)(r.a.mark(function e(t){var i,a,o,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n.state.removedFile,(a=t.url)?(o=a.split("/"),s=o[o.length-1],i.push(s)):(c=t.response.fullName,i.push(c)),n.setState({removedFile:i});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.compareToFirstPassword=function(e,t,i){var a=n.props.form;t&&t!==a.getFieldValue("password")?i("Two passwords that you enter is inconsistent!"):i()},n.validateToNextPassword=function(e,t,i){var a=n.props.form;t&&n.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),i()},n.handleWebsiteChange=function(e){var t;t=e?[".com",".org",".net"].map(function(t){return"".concat(e).concat(t)}):[],n.setState({autoCompleteResult:t})},n.handleClose=function(e){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t})},n.showInput=function(){n.setState({inputVisible:!0},function(){return n.input.focus()})},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleInputConfirm=function(){var e=Object(f.a)(Object(f.a)(n)).state,t=e.inputValue,a=e.tags;t&&-1===a.indexOf(t)&&(a=[].concat(Object(i.a)(a),[t])),n.setState({tags:a,inputVisible:!1,inputValue:""})},n.onChangeBreaking=function(){n.setState({breakingNews:!n.state.breakingNews})},n.onChangeCheck=function(){n.setState({checked:!n.state.checked})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.handleEditorChange=function(e){var t=e.target.getContent();n.setState(function(){return{content:t}})},n.handlePreview=function(e){n.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},n.editorChange=function(e){var t=e.editor.getData();n.setState({content:t})},n.saveInputRef=function(e){return n.input=e},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.previewVisible,i=t.fileList,a=t.title,r=t.seo,o=t.content,s=t.disable,c=t.post_intro,u=t.pic,l=m.a.createElement("div",null,m.a.createElement(b.a,{type:"plus"}),m.a.createElement("div",{className:"ant-upload-text"},"Upload")),p={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}};return m.a.createElement(y.a,{className:"gx-card",title:"Edit Blog Details"},m.a.createElement(h.a,{onSubmit:this.handleSubmit},m.a.createElement(F,Object.assign({},p,{label:m.a.createElement("span",null,"Title\xa0",m.a.createElement(w.a,{title:"What is the title of the blog"},m.a.createElement(b.a,{type:"question-circle-o"})))}),e("title",{initialValue:a,rules:[{max:150,message:"Max is 150 letter !",whitespace:!0}]})(m.a.createElement(v.a,null))),m.a.createElement(F,Object.assign({},p,{label:m.a.createElement("span",null,"seo")}),e("seo",{initialValue:r,rules:[{required:!0,message:"Please input your seo!",whitespace:!0},{max:50,message:"Max is 50 letter !",whitespace:!0}]})(m.a.createElement(v.a,null))),m.a.createElement(F,Object.assign({},p,{label:m.a.createElement("span",null,"Blog Introduction")}),e("post_intro",{initialValue:c,rules:[{max:260,message:"Max Letters for Intro is 260",whitespace:!0}]})(m.a.createElement(P,{rows:4}))),m.a.createElement(F,Object.assign({},p,{label:"Header Photo"}),m.a.createElement(C.a,{action:"/api/v2/files/uploadFile",listType:"picture-card",fileList:i,onPreview:this.handlePreview,onChange:this.handleChange,withCredentials:!0,onRemove:this.removeFile},1===i.length?null:l),m.a.createElement(E.a,{visible:n,footer:null,onCancel:this.handleCancel},m.a.createElement("img",{alt:"example",style:{width:"100%"},src:"/api/v2/files/getFile/".concat(u)}))),o.length?m.a.createElement(F,Object.assign({},p,{label:m.a.createElement("span",null,"Description")}),m.a.createElement(_.a,{initialValue:o,init:{images_upload_url:"/api/v2/files/uploadFile",images_upload_base_path:"/api/v2/files/uploadFile",image_caption:!0,images_upload_handler:function(e,t,n){var i=new FormData;i.append("file",e.blob()),M.a.post("/api/v2/files/uploadFile",i).then(function(e){var n=e.data.fullName;t("/api/v2/files/getFile/".concat(n))}).catch(function(e){n("error !")})},height:700,image_title:!0,automatic_uploads:!0,file_picker_types:"file image media",images_upload_credentials:!0,plugins:"print preview fullpage powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help formatpainter permanentpen pageembed mentions linkchecker",toolbar:"formatselect | bold italic strikethrough forecolor backcolor permanentpen formatpainter | link image media pageembed | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent | removeformat | addcomment"},onChange:this.handleEditorChange})):null,m.a.createElement(F,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},s?m.a.createElement(O.a,{type:"primary",disabled:!0,htmlType:"submit"},"Save"):m.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Save"))),m.a.createElement(j.NotificationContainer,null))}}]),t}(d.Component),V=h.a.create()(N);t.default=Object(S.b)(function(e){var t=e.auth;return{authUser:t.authUser,url:t.url,role:t.role}})(V)},634:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},635:function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,a=n;return[a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],"-",a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]],a[e[i++]]].join("")}},637:function(e,t,n){var i=n(638),a=n(639),r=a;r.v1=i,r.v4=a,e.exports=r},638:function(e,t,n){var i,a,r=n(634),o=n(635),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],p=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:a;if(null==p||null==f){var d=r();null==p&&(p=i=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=a=16383&(d[6]<<8|d[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,g=m-s+(h-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||m>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,c=h,a=f;var v=(1e4*(268435455&(m+=122192928e5))+h)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var b=m/4294967296*1e4&268435455;l[u++]=b>>>8&255,l[u++]=255&b,l[u++]=b>>>24&15|16,l[u++]=b>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=p[y];return t||o(l)}},639:function(e,t,n){var i=n(634),a=n(635);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[r+s]=o[s];return t||a(o)}},642:function(e,t,n){"use strict";var i=n(0),a=n(1),r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o={onActivate:a.func,onAddUndo:a.func,onBeforeAddUndo:a.func,onBeforeExecCommand:a.func,onBeforeGetContent:a.func,onBeforeRenderUI:a.func,onBeforeSetContent:a.func,onBeforePaste:a.func,onBlur:a.func,onChange:a.func,onClearUndos:a.func,onClick:a.func,onContextMenu:a.func,onCopy:a.func,onCut:a.func,onDblclick:a.func,onDeactivate:a.func,onDirty:a.func,onDrag:a.func,onDragDrop:a.func,onDragEnd:a.func,onDragGesture:a.func,onDragOver:a.func,onDrop:a.func,onExecCommand:a.func,onFocus:a.func,onFocusIn:a.func,onFocusOut:a.func,onGetContent:a.func,onHide:a.func,onInit:a.func,onKeyDown:a.func,onKeyPress:a.func,onKeyUp:a.func,onLoadContent:a.func,onMouseDown:a.func,onMouseEnter:a.func,onMouseLeave:a.func,onMouseMove:a.func,onMouseOut:a.func,onMouseOver:a.func,onMouseUp:a.func,onNodeChange:a.func,onObjectResizeStart:a.func,onObjectResized:a.func,onObjectSelected:a.func,onPaste:a.func,onPostProcess:a.func,onPostRender:a.func,onPreProcess:a.func,onProgressState:a.func,onRedo:a.func,onRemove:a.func,onReset:a.func,onSaveContent:a.func,onSelectionChange:a.func,onSetAttrib:a.func,onSetContent:a.func,onShow:a.func,onSubmit:a.func,onUndo:a.func,onVisualAid:a.func},s=r({apiKey:a.string,id:a.string,inline:a.bool,init:a.object,initialValue:a.string,onEditorChange:a.func,value:a.string,tagName:a.string,cloudChannel:a.string,plugins:a.oneOfType([a.string,a.array]),toolbar:a.oneOfType([a.string,a.array]),disabled:a.bool,textareaName:a.string},o),c=function(e){return"function"===typeof e},u=0,l=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++u+String(t)},p=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(e,t){return f(e).concat(f(t))},m=n(643),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},v={listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=null,t.initialise=function(){var e=g({},t.props.init,{target:t.element,readonly:t.props.disabled,inline:t.inline,plugins:d(t.props.init&&t.props.init.plugins,t.props.plugins),toolbar:t.props.toolbar||t.props.init&&t.props.init.toolbar,setup:function(e){t.editor=e,e.on("init",function(n){t.initEditor(n,e)}),t.props.init&&"function"===typeof t.props.init.setup&&t.props.init.setup(e)}});p(t.element)&&(t.element.style.visibility=""),Object(m.a)().init(e)},t}return h(t,e),t.prototype.componentWillMount=function(){this.id=this.id||this.props.id||l("tiny-react"),this.inline=this.props.inline?this.props.inline:this.props.init&&this.props.init.inline},t.prototype.componentDidMount=function(){if(null!==Object(m.a)())this.initialise();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.props.cloudChannel,n=this.props.apiKey?this.props.apiKey:"";!function(e,t,n,i){e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||function(e,t,n,i){var a=t.createElement("script");a.type="application/javascript",a.id=e,a.addEventListener("load",i),a.src=n,t.head&&t.head.appendChild(a)}(e.scriptId,t,n,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))}(v,e,"https://cloud.tinymce.com/"+t+"/tinymce.min.js?apiKey="+n,this.initialise)}},t.prototype.componentWillUnmount=function(){null!==Object(m.a)()&&Object(m.a)().remove(this.editor)},t.prototype.componentWillReceiveProps=function(e){this.editor&&this.editor.initialized&&(this.currentContent=this.currentContent||this.editor.getContent(),"string"===typeof e.value&&e.value!==this.props.value&&e.value!==this.currentContent&&this.editor.setContent(e.value),"boolean"===typeof e.disabled&&e.disabled!==this.props.disabled&&this.editor.setMode(e.disabled?"readonly":"design"))},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.initEditor=function(e,t){var n=this,i="string"===typeof this.props.value?this.props.value:"string"===typeof this.props.initialValue?this.props.initialValue:"";t.setContent(i),c(this.props.onEditorChange)&&t.on("change keyup setcontent",function(e){n.currentContent=t.getContent(),c(n.props.onEditorChange)&&n.props.onEditorChange(n.currentContent)}),function(e,t,n){var i;Object.keys(e).filter((i=Object.keys(o),function(e){return-1!==i.indexOf(e)})).forEach(function(i){var a=e[i];c(a)&&("onInit"===i?a(n,t):t.on(i.substring(2),function(e){return a(e,t)}))})}(this.props,t,e)},t.prototype.renderInline=function(){var e=this,t=this.props.tagName,n=void 0===t?"div":t;return i.createElement(n,{ref:function(t){return e.element=t},id:this.id})},t.prototype.renderIframe=function(){var e=this;return i.createElement("textarea",{ref:function(t){return e.element=t},style:{visibility:"hidden"},id:this.id,name:this.props.textareaName})},t.propTypes=s,t.defaultProps={cloudChannel:"5"},t}(i.Component);n.d(t,"a",function(){return b})},643:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var i=function(){return"undefined"!==typeof window?window:e},a=function(){var e=i();return e&&e.tinymce?e.tinymce:null}}).call(this,n(61))},647:function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})}}]);
//# sourceMappingURL=12.a88ba30f.chunk.js.map